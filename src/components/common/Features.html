<!-- 
  Features.html - Composant réutilisable pour afficher les caractéristiques/fonctionnalités
  Utilise l'approche CSS-first de Tailwind v4.1 avec animations Alpine.js
  
  Usage:
  <div class="features-section" x-data="featuresAnimation()"> ... </div>
  
  Nécessite:
  - Alpine.js pour les animations
  - animations.js pour les fonctions d'animation personnalisées
-->

<!-- Composant de fonctionnalités -->
<!-- Ce composant permet d'afficher les principales caractéristiques/fonctionnalités avec icônes et animations -->

<!-- Version standard avec icônes et grille -->
<section class="features-section py-16 bg-gray-50">
  <div class="container mx-auto px-4">
    <!-- Titre de section -->
    <div 
      x-data="sectionTitleAnimation()"
      class="section-title text-center mb-16 max-w-3xl mx-auto overflow-hidden"
      role="heading" 
      aria-level="2">
      
      <span class="inline-block text-primary text-sm font-semibold uppercase tracking-wider mb-3 transform opacity-0 transition-all duration-700"
          x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
        Nos fonctionnalités
      </span>
    
      <h2 class="text-3xl md:text-4xl font-bold mb-5 transform opacity-0 transition-all duration-700 delay-50"
         x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
        Des fonctionnalités <span class="text-primary">puissantes</span> pour votre succès
      </h2>
      
      <div class="h-1 w-20 bg-primary mx-auto mb-6 transform scale-x-0 transition-all duration-700 delay-100"
           x-bind:class="{ 'scale-x-100': visible, 'scale-x-0': !visible }"></div>
      
      <p class="text-gray-600 text-lg max-w-2xl mx-auto opacity-0 transition-all duration-700 delay-150"
         x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
        Découvrez comment nos solutions peuvent transformer votre entreprise avec des outils conçus pour l'efficacité et la performance.
      </p>
    </div>
    
    <!-- Grille de fonctionnalités -->
    <div 
      x-data="featuresAnimation()" 
      x-init="init()"
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 lg:gap-10">
      
      <!-- Fonctionnalité 1 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Performance optimisée</h3>
        <p class="text-gray-600 mb-4">Des solutions rapides et efficaces qui améliorent considérablement les performances de votre entreprise.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
      
      <!-- Fonctionnalité 2 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Sécurité renforcée</h3>
        <p class="text-gray-600 mb-4">Protection avancée de vos données et systèmes avec des protocoles de sécurité de pointe.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
      
      <!-- Fonctionnalité 3 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Collaboration intuitive</h3>
        <p class="text-gray-600 mb-4">Travaillez efficacement en équipe grâce à nos outils de collaboration intuitifs et centralisés.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
      
      <!-- Fonctionnalité 4 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Stockage cloud</h3>
        <p class="text-gray-600 mb-4">Accédez à vos données depuis n'importe où avec notre solution de stockage cloud sécurisée et évolutive.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
      
      <!-- Fonctionnalité 5 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Analyses détaillées</h3>
        <p class="text-gray-600 mb-4">Obtenez des insights précieux grâce à nos outils d'analyse avancés pour prendre des décisions éclairées.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
      
      <!-- Fonctionnalité 6 -->
      <div class="feature-card bg-white rounded-lg shadow-sm border border-gray-100 p-6 transition-all duration-300 hover:shadow-md opacity-0 transform translate-y-8"
           x-ref="featureCards">
        <div class="w-14 h-14 bg-primary-100 text-primary-600 rounded-lg flex items-center justify-center mb-5">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
        </div>
        <h3 class="text-xl font-semibold mb-3">Automatisation intelligente</h3>
        <p class="text-gray-600 mb-4">Automatisez vos processus répétitifs et gagnez du temps grâce à nos solutions d'automatisation intelligentes.</p>
        <a href="#" class="inline-flex items-center text-primary-600 font-medium hover:text-primary-700 transition-colors"
           @mouseenter="animations.pulseElement($event.target)" 
           @mouseleave="animations.resetElement($event.target)">
          En savoir plus
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </a>
      </div>
    </div>
  </div>
</section>

<!-- Version avec deux colonnes et image intégrée -->
<section class="features-section py-20 bg-white">
  <div class="container mx-auto px-4">
    <div class="flex flex-col lg:flex-row lg:items-center lg:space-x-16">
      <!-- Image côté gauche (visible uniquement sur écrans larges) -->
      <div class="hidden lg:block lg:w-1/2 mb-10 lg:mb-0"
           x-data="{ visible: false }"
           x-intersect="visible = true">
        <img 
          src="/assets/images/features-dashboard.jpg" 
          alt="Tableau de bord des fonctionnalités" 
          class="rounded-lg shadow-xl transition-all duration-1000 transform opacity-0 scale-95"
          x-bind:class="{ 'opacity-100 scale-100': visible, 'opacity-0 scale-95': !visible }"
          loading="lazy"
          width="600"
          height="400">
      </div>
      
      <!-- Contenu côté droit -->
      <div class="lg:w-1/2">
        <!-- Titre de section -->
        <div 
          x-data="sectionTitleAnimation()"
          class="section-title mb-10 lg:mb-12 max-w-2xl overflow-hidden"
          role="heading" 
          aria-level="2">
          
          <span class="inline-block text-primary text-sm font-semibold uppercase tracking-wider mb-3 transform opacity-0 transition-all duration-700"
              x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
            Pourquoi nous choisir
          </span>
        
          <h2 class="text-3xl md:text-4xl font-bold mb-4 transform opacity-0 transition-all duration-700 delay-50"
             x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
            Une plateforme complète pour votre croissance
          </h2>
          
          <p class="text-gray-600 text-lg opacity-0 transition-all duration-700 delay-100"
             x-bind:class="{ 'opacity-100 translate-y-0': visible, 'opacity-0 translate-y-4': !visible }">
            Notre solution intègre tous les outils dont vous avez besoin pour développer et faire prospérer votre entreprise.
          </p>
        </div>
        
        <!-- Liste des fonctionnalités -->
        <div 
          x-data="featureListAnimation()"
          class="space-y-6">
          
          <!-- Fonctionnalité 1 -->
          <div class="feature-item flex items-start opacity-0 transform translate-y-4 transition-all duration-500"
               x-ref="featureItems">
            <div class="flex-shrink-0 mr-4 mt-1">
              <div class="w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Interface intuitive</h3>
              <p class="text-gray-600">Une interface utilisateur conçue pour être simple et intuitive, permettant une prise en main rapide.</p>
            </div>
          </div>
          
          <!-- Fonctionnalité 2 -->
          <div class="feature-item flex items-start opacity-0 transform translate-y-4 transition-all duration-500"
               x-ref="featureItems">
            <div class="flex-shrink-0 mr-4 mt-1">
              <div class="w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Support client 24/7</h3>
              <p class="text-gray-600">Une équipe de support dédiée disponible à tout moment pour répondre à vos questions et résoudre vos problèmes.</p>
            </div>
          </div>
          
          <!-- Fonctionnalité 3 -->
          <div class="feature-item flex items-start opacity-0 transform translate-y-4 transition-all duration-500"
               x-ref="featureItems">
            <div class="flex-shrink-0 mr-4 mt-1">
              <div class="w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Intégration facile</h3>
              <p class="text-gray-600">S'intègre facilement avec vos outils existants grâce à nos API et connecteurs prêts à l'emploi.</p>
            </div>
          </div>
          
          <!-- Fonctionnalité 4 -->
          <div class="feature-item flex items-start opacity-0 transform translate-y-4 transition-all duration-500"
               x-ref="featureItems">
            <div class="flex-shrink-0 mr-4 mt-1">
              <div class="w-8 h-8 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
              </div>
            </div>
            <div>
              <h3 class="text-lg font-semibold mb-1">Mises à jour régulières</h3>
              <p class="text-gray-600">Des améliorations constantes avec de nouvelles fonctionnalités ajoutées chaque mois selon les besoins des utilisateurs.</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  /**
   * Gestion des animations pour la grille de fonctionnalités
   */
  function featuresAnimation() {
    return {
      init() {
        // Si l'utilisateur préfère réduire les animations, afficher directement
        if (window.animations && window.animations.prefersReducedMotion()) {
          this.showAllFeatures();
          return;
        }
        
        // Observer l'intersection avec le viewport pour déclencher les animations
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              this.animateFeatureCards();
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        
        // Observer le conteneur parent
        if (this.$el) {
          observer.observe(this.$el);
        }
      },
      
      // Anime les cartes de fonctionnalités avec un délai échelonné
      animateFeatureCards() {
        const cards = this.$refs.featureCards;
        if (!cards || !Array.isArray(cards)) return;
        
        cards.forEach((card, index) => {
          setTimeout(() => {
            if (window.animations) {
              window.animations.fadeInUp(card);
            } else {
              card.style.opacity = '1';
              card.style.transform = 'translateY(0)';
            }
          }, index * 100);
        });
      },
      
      // Affiche toutes les cartes sans animation
      showAllFeatures() {
        const cards = this.$refs.featureCards;
        if (!cards || !Array.isArray(cards)) return;
        
        cards.forEach(card => {
          card.style.opacity = '1';
          card.style.transform = 'translateY(0)';
        });
      }
    };
  }
  
  /**
   * Gestion des animations pour la liste de fonctionnalités
   */
  function featureListAnimation() {
    return {
      $nextTick() {
        // Si l'utilisateur préfère réduire les animations, afficher directement
        if (window.animations && window.animations.prefersReducedMotion()) {
          this.showAllItems();
          return;
        }
        
        // Observer l'intersection avec le viewport pour déclencher les animations
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              this.animateItems();
              observer.unobserve(entry.target);
            }
          });
        }, { threshold: 0.1 });
        
        // Observer le conteneur parent
        if (this.$el) {
          observer.observe(this.$el);
        }
      },
      
      // Anime les éléments de la liste avec un délai échelonné
      animateItems() {
        const items = this.$refs.featureItems;
        if (!items || !Array.isArray(items)) return;
        
        items.forEach((item, index) => {
          setTimeout(() => {
            if (window.animations) {
              window.animations.fadeInUp(item);
            } else {
              item.style.opacity = '1';
              item.style.transform = 'translateY(0)';
            }
          }, index * 150);
        });
      },
      
      // Affiche tous les éléments sans animation
      showAllItems() {
        const items = this.$refs.featureItems;
        if (!items || !Array.isArray(items)) return;
        
        items.forEach(item => {
          item.style.opacity = '1';
          item.style.transform = 'translateY(0)';
        });
      }
    };
  }
</script>

<!--
  Note d'utilisation:
  
  1. Choisissez la variante qui correspond le mieux à votre design
  2. Personnalisez les icônes et le texte selon vos fonctionnalités
  3. Ajustez le nombre de fonctionnalités affichées selon vos besoins
  4. Pour la version avec image, remplacez le chemin de l'image par le vôtre
--> 